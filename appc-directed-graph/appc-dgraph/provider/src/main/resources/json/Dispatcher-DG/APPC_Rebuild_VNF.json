[
    {
        "id": "14bedb0b.fc03e5",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 100.03125,
        "y": 89.03125,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "e0af88da.462018"
            ]
        ]
    },
    {
        "id": "e0af88da.462018",
        "type": "service-logic",
        "name": "APPC 2.0.0",
        "module": "APPC",
        "version": "2.0.0",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='APPC' version='2.0.0'>",
        "outputs": 1,
        "x": 275.03125,
        "y": 88.03125,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "4dcd94f8.b1dd5c"
            ]
        ]
    },
    {
        "id": "4dcd94f8.b1dd5c",
        "type": "method",
        "name": "Rebuild_VNF",
        "xml": "<method rpc='Rebuild_VNF' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 119.78131103515625,
        "y": 192.53124332427979,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "637e5577.889a3c"
            ]
        ]
    },
    {
        "id": "c29bcf1c.26407",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 405.0315856933594,
        "y": 206.03125,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "74a1f9fa.18a2b8"
            ]
        ]
    },
    {
        "id": "6f459816.143ec8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 404.0315856933594,
        "y": 156.03125,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "74a1f9fa.18a2b8"
            ]
        ]
    },
    {
        "id": "9169964c.ecc0a8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 398.0315856933594,
        "y": 261.03126525878906,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "74a1f9fa.18a2b8"
            ]
        ]
    },
    {
        "id": "637e5577.889a3c",
        "type": "execute",
        "name": "Set payload in Context",
        "xml": "<execute plugin='org.onap.appc.dg.common.JsonDgUtil' method='flatAndAddToContext' >\n<parameter name=\"payload\" value=\"`$input.payload`\" />",
        "comments": "",
        "outputs": 1,
        "x": 178.03134155273438,
        "y": 260.0312805175781,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "c29bcf1c.26407",
                "6f459816.143ec8",
                "9169964c.ecc0a8",
                "2e9a68b3.b5ec68"
            ]
        ]
    },
    {
        "id": "2e9a68b3.b5ec68",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 404.0312805175781,
        "y": 324.0312805175781,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "c05169cf.975b78"
            ]
        ]
    },
    {
        "id": "c05169cf.975b78",
        "type": "execute",
        "name": "Get Vnf Hierarchy",
        "xml": "<execute plugin='org.onap.appc.dg.aai.AAIPlugin' method='getVnfHierarchy'>\n<parameter name=\"resourceKey\" value=\"`$input.action-identifiers.vnf-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 575.6979370117188,
        "y": 324.0312805175781,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "9925a96e.8475c8",
                "a44377c4.b67b08"
            ]
        ]
    },
    {
        "id": "a44377c4.b67b08",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 763.697998046875,
        "y": 283.0312805175781,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "36a6168.c8c83ea"
            ]
        ]
    },
    {
        "id": "9925a96e.8475c8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 751.6979522705078,
        "y": 361.0312194824219,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "1965b438.48ea4c"
            ]
        ]
    },
    {
        "id": "1965b438.48ea4c",
        "type": "switchNode",
        "name": "getVnfHierarchy_result ?",
        "xml": "<switch test='`$getVnfHierarchy_result`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 912.6978759765625,
        "y": 429.1423645019531,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "ea78bcaa.90afc",
                "2838f90.3c00208"
            ]
        ]
    },
    {
        "id": "ea78bcaa.90afc",
        "type": "outcome",
        "name": "SUCCESS",
        "xml": "<outcome value='SUCCESS'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1119.6982116699219,
        "y": 490.14242362976074,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "45a91bde.4cc084"
            ]
        ]
    },
    {
        "id": "2838f90.3c00208",
        "type": "outcome",
        "name": "FAILURE",
        "xml": "<outcome value='FAILURE'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1118.6981201171875,
        "y": 369.1423645019531,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "36a6168.c8c83ea"
            ]
        ]
    },
    {
        "id": "45a91bde.4cc084",
        "type": "switchNode",
        "name": "VNF_VMCount ?",
        "xml": "<switch test='`$VNF.VMCount`'>",
        "comments": "",
        "outputs": 1,
        "x": 1153.6982116699219,
        "y": 558.2532939910889,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "24544446.8c3f3c",
                "e1dc03f3.1e72f"
            ]
        ]
    },
    {
        "id": "24544446.8c3f3c",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1339.6978454589844,
        "y": 491.2534465789795,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "97131751.a14738"
            ]
        ]
    },
    {
        "id": "e1dc03f3.1e72f",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1259.6978454589844,
        "y": 624.2534160614014,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "5d59e03c.f3021"
            ]
        ]
    },
    {
        "id": "5d59e03c.f3021",
        "type": "execute",
        "name": "Get Execution Flow",
        "xml": "<execute plugin='org.onap.appc.dg.common.VnfExecutionFlow' method='getVnfExecutionFlowData' >\n<parameter name=\"DependencyType\" value='RESOURCE' />\n<parameter name=\"FlowStrategy\" value='FORWARD' />\n<parameter name=\"vnfType\" value='`$vnf.type`' />\n<parameter name=\"vnfVersion\" value='`$vnf.version`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1317.6978454589844,
        "y": 699.3646221160889,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "42c0d877.866eb8",
                "bac1204b.a61c9"
            ]
        ]
    },
    {
        "id": "42c0d877.866eb8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1509.6976623535156,
        "y": 699.3644714355469,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "a782ade1.b83cd"
            ]
        ]
    },
    {
        "id": "bac1204b.a61c9",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1508.6977233886719,
        "y": 620.3645000457764,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "55100cc6.7fed64"
            ]
        ]
    },
    {
        "id": "74a1f9fa.18a2b8",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 578.6982421875,
        "y": 207.03125,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "ca2515dc.f51848",
                "10e02b32.a43435"
            ]
        ]
    },
    {
        "id": "ca2515dc.f51848",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name=\"output.status.message\" value=\"Failure in flattening payload Json\" />",
        "comments": "",
        "x": 776.0311889648438,
        "y": 207.5549774169922,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "36a6168.c8c83ea",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1273.4757232666016,
        "y": 285.920166015625,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "c8c5352e.d85e88",
                "354d6e8c.f31102"
            ]
        ]
    },
    {
        "id": "c8c5352e.d85e88",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n",
        "comments": "",
        "x": 1462.4758911132812,
        "y": 346.920166015625,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "97131751.a14738",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1470.0313415527344,
        "y": 490.25350761413574,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "d039e9fd.0c12a8",
                "c08a61cf.9a3ac"
            ]
        ]
    },
    {
        "id": "d039e9fd.0c12a8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n",
        "comments": "",
        "x": 1659.0313415527344,
        "y": 519.253568649292,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "55100cc6.7fed64",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1643.0313415527344,
        "y": 621.4755554199219,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "f7b58dae.67bd3",
                "166abc17.dc1b54"
            ]
        ]
    },
    {
        "id": "f7b58dae.67bd3",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n",
        "comments": "",
        "x": 1832.0318298339844,
        "y": 656.4756774902344,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "aead89d1.33dd08",
        "type": "for",
        "name": "For each VNFC",
        "xml": "<for index='i' start='0' end='`$vnfcFlowCount`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2207.2531814575195,
        "y": 835.69788646698,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "6600516d.37ad1"
            ]
        ]
    },
    {
        "id": "498ece32.37e4e",
        "type": "call",
        "name": "call VNFC DG",
        "xml": "<call module='`$Rebuild.dg_module`' rpc='`$Rebuild.dg_name`' mode='sync' version='`$Rebuild.dg_version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2619.252960205078,
        "y": 919.80908203125,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "b33a4ecc.b3b67",
                "f80e7c53.e3e7c",
                "a74eca86.b52618"
            ]
        ]
    },
    {
        "id": "1bcf2108.0429df",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2002.2534484863281,
        "y": 833.6980590820312,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "aead89d1.33dd08",
                "2ce3fa1f.5a9af6",
                "90a22a5d.50a1c8"
            ]
        ]
    },
    {
        "id": "d8b95007.e7542",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2855.253204345703,
        "y": 686.6982116699219,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "92f4b354.e9a2e"
            ]
        ]
    },
    {
        "id": "3cf35b05.914b94",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2851.252960205078,
        "y": 768.6982116699219,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "f9ff21b0.b3549"
            ]
        ]
    },
    {
        "id": "f9ff21b0.b3549",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2997.538314819336,
        "y": 765.6982202529907,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "daaf57ae.34c218",
                "fdaa30b4.b15b2"
            ]
        ]
    },
    {
        "id": "daaf57ae.34c218",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n",
        "comments": "",
        "x": 3219.252716064453,
        "y": 768.6982116699219,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "a74eca86.b52618",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2815.030548095703,
        "y": 967.9202880859375,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "e45bf354.95355"
            ]
        ]
    },
    {
        "id": "f80e7c53.e3e7c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2813.030792236328,
        "y": 875.9202575683594,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "4c1fb7c.b8c6c48"
            ]
        ]
    },
    {
        "id": "b33a4ecc.b3b67",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2825.031036376953,
        "y": 919.9202880859375,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "bf4f7247.aa8de"
            ]
        ]
    },
    {
        "id": "6600516d.37ad1",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2377.9195861816406,
        "y": 834.9202880859375,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "498ece32.37e4e",
                "8aae577.f52c8a8",
                "7fa5305d.0aa62",
                "8e4bbbd4.223358"
            ]
        ]
    },
    {
        "id": "a782ade1.b83cd",
        "type": "switchNode",
        "name": "dependencyModelFound",
        "xml": "<switch test='`$dependencyModelFound`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1655.6978454589844,
        "y": 778.8090496063232,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "1b9da7a3.1ded28",
                "c3ceb526.1fca18"
            ]
        ]
    },
    {
        "id": "1b9da7a3.1ded28",
        "type": "outcome",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1853.3647766113281,
        "y": 723.9201354980469,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "3d78214f.9f0e0e"
            ]
        ]
    },
    {
        "id": "3d78214f.9f0e0e",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1978.8094787597656,
        "y": 724.0312194824219,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "7257286a.6729a8",
                "d80226bb.30a6e8"
            ]
        ]
    },
    {
        "id": "7257286a.6729a8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n",
        "comments": "",
        "x": 2158.8092346191406,
        "y": 724.0312194824219,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "c3ceb526.1fca18",
        "type": "outcome",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1860.6977844238281,
        "y": 833.8092651367188,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "1bcf2108.0429df"
            ]
        ]
    },
    {
        "id": "8aae577.f52c8a8",
        "type": "execute",
        "name": "Resolve VNFC DG",
        "xml": "<execute plugin='org.onap.appc.dg.common.VNFCDgResolverPlugin' method='resolveVNFCDg'>\n<parameter name=\"vnfType\" value='`$vnf.type`' />\n<parameter name=\"vnfcType\" value='`$vnfcFlow[$i].vnfcType`' />\n<parameter name=\"action\" value=\"Rebuild\" />\n<parameter name=\"api-ver\" value='`$input.common-header.api-ver`' />\n<parameter name=\"prefix\" value=\"Rebuild\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2612.030792236328,
        "y": 727.7813415527344,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "d8b95007.e7542",
                "3cf35b05.914b94"
            ]
        ]
    },
    {
        "id": "7fa5305d.0aa62",
        "type": "set",
        "name": "set DG Parameters",
        "xml": "<set>\n<parameter name='vnfcName' value='`$vnfcFlow[$i].vnfcName`' />\n<parameter name='vnfcType' value='`$vnfcFlow[$i].vnfcType`' />\n<parameter name='resilienceType' value='`$vnfcFlow[$i].resilienceType`' />\n<parameter name='vmCount' value='`$vnfcFlow[$i].vmCount`' />\n<parameter name='input.action' value='`$input.action`' />\n<parameter name='HealthyVMCountAfterRebuild' value='0' />\n<parameter name='AAIUpdateSuccessFlag' value='false' />\n<parameter name='HealthcheckDGResolutionFlag' value='false' />",
        "comments": "",
        "x": 2613.0581436157227,
        "y": 778.8646984100342,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "8e4bbbd4.223358",
        "type": "for",
        "name": "For Each VM",
        "xml": "<for index='j' start='0' end='`$vnfcFlow[$i].vmCount`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2606.835948944092,
        "y": 833.8366804122925,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "ce59807f.9ef8b"
            ]
        ]
    },
    {
        "id": "ce59807f.9ef8b",
        "type": "set",
        "name": "Set VM URL",
        "xml": "<set>\n<parameter name=\"$vm[$j].url\" value='`$vnfcFlow[$i].vm[$j].url`' />",
        "comments": "",
        "x": 2804.835968017578,
        "y": 827.8365783691406,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "4c1fb7c.b8c6c48",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2975.919708251953,
        "y": 875.0312805175781,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "97a9b533.bab058",
                "77a1f307.e77f2c"
            ]
        ]
    },
    {
        "id": "97a9b533.bab058",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n",
        "comments": "",
        "x": 3201.919952392578,
        "y": 873.0313110351562,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "bf4f7247.aa8de",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2990.919708251953,
        "y": 921.0313110351562,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "7a8e1dc8.f88904"
            ]
        ]
    },
    {
        "id": "d4ec5d9f.87aa2",
        "type": "switchNode",
        "name": "switch_vm_rebuild_success",
        "xml": "<switch test='`$HealthyVMCountAfterRebuild >= 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3603.5029106140137,
        "y": 922.392650604248,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "1faf5ce0.ba9333",
                "207ffc23.e8c554"
            ]
        ]
    },
    {
        "id": "207ffc23.e8c554",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3809.780990600586,
        "y": 866.1427116394043,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "4db2cbe6.4a5464"
            ]
        ]
    },
    {
        "id": "1faf5ce0.ba9333",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3793.780990600586,
        "y": 977.8925914764404,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "3f778c62.bd0f64"
            ]
        ]
    },
    {
        "id": "4db2cbe6.4a5464",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3945.780750274658,
        "y": 867.392650604248,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "fbc5ba73.a59208",
                "b6cb2006.f99a3",
                "70507789.f3d478",
                "b71db166.932c5",
                "c31339d0.a87528"
            ]
        ]
    },
    {
        "id": "8aeeb0cc.3f804",
        "type": "set",
        "name": "update failed VNFC count",
        "xml": "<set>\n<parameter name=\"FailedVNFCCount\" value=\"`$FailedVNFCCount + 1`\" />\n",
        "comments": "",
        "x": 4130.947940826416,
        "y": 1032.1425304412842,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "fbc5ba73.a59208",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n",
        "comments": "",
        "x": 4130.086170196533,
        "y": 922.8928337097168,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "3f778c62.bd0f64",
        "type": "block",
        "name": "block",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3930.1417846679688,
        "y": 979.2536754608154,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "8aeeb0cc.3f804",
                "ee6892c2.494b5"
            ]
        ]
    },
    {
        "id": "90a22a5d.50a1c8",
        "type": "switchNode",
        "name": "switch_vnfc_rebuild_success",
        "xml": "<switch test='`$FailedVNFCCount == 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2254.475372314453,
        "y": 1008.0313415527344,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "56fc11f6.d16bd",
                "4873eb0f.a31cd4"
            ]
        ]
    },
    {
        "id": "56fc11f6.d16bd",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2468.475372314453,
        "y": 970.0312805175781,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "5edbbf29.b5d5"
            ]
        ]
    },
    {
        "id": "4873eb0f.a31cd4",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2468.975616455078,
        "y": 1047.0313415527344,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "e1385c77.1ddb8"
            ]
        ]
    },
    {
        "id": "5edbbf29.b5d5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n",
        "comments": "",
        "x": 2626.744415283203,
        "y": 969.5481262207031,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "e1385c77.1ddb8",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n",
        "comments": "",
        "x": 2629.975372314453,
        "y": 1045.9481506347656,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "2ce3fa1f.5a9af6",
        "type": "set",
        "name": "set Failed VNFC Count",
        "xml": "<set>\n<parameter name='FailedVNFCCount' value='0' />",
        "comments": "",
        "x": 2224.475372314453,
        "y": 776.0313110351562,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "e45bf354.95355",
        "type": "record",
        "name": "Log message",
        "xml": "<record plugin=\"onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"level\" value=\"debug\"/>\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"record\" value=\"`'Rebuild successful for VNFC : ' + $vnfcName `\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2994.808395385742,
        "y": 969.031569480896,
        "z": "b08b9d6b.a2e2",
        "wires": [
            []
        ]
    },
    {
        "id": "b6cb2006.f99a3",
        "type": "record",
        "name": "Log message",
        "xml": "<record plugin=\"onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"level\" value=\"error\"/>\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"record\" value=\"`$event-message`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4146.808578491211,
        "y": 800.7816262245178,
        "z": "b08b9d6b.a2e2",
        "wires": [
            []
        ]
    },
    {
        "id": "ee6892c2.494b5",
        "type": "record",
        "name": "Log message",
        "xml": "<record plugin=\"onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"level\" value=\"error\"/>\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"record\" value=\"`'Failed to Rebuild all VMs for VNFC : ' + $vnfcName + '. But successfully Rebuilt '+ $HealthyVMCountAfterRebuild +' VM/s so continue to next VNFC'`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4097.487247467041,
        "y": 975.9244518280029,
        "z": "b08b9d6b.a2e2",
        "wires": [
            []
        ]
    },
    {
        "id": "92f4b354.e9a2e",
        "type": "record",
        "name": "Log message",
        "xml": "<record plugin=\"onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"level\" value=\"debug\"/>\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"record\" value=\"`'VNFC DG for ' + $vnfcName + ' resolves to rpc: ' + $Rebuild.dg_name + ', module: ' + $Rebuild.dg_module + ', version: ' + $Rebuild.dg_version `\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3012.919952392578,
        "y": 687.0315246582031,
        "z": "b08b9d6b.a2e2",
        "wires": [
            []
        ]
    },
    {
        "id": "3a9b214c.98617e",
        "type": "set",
        "name": "Set error message",
        "xml": "<set>\n<parameter name=\"event-message\" value=\"`'None of the VMs of VNFC ' + $vnfcName + ' are Rebuilt successfully. Not proceeding to the next VNFC.'`\" />",
        "comments": "",
        "x": 4556.911617279053,
        "y": 794.8850202560425,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "70507789.f3d478",
        "type": "switchNode",
        "name": "switch_aai_update_success",
        "xml": "<switch test='`$AAIUpdateSuccessFlag`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4165.086658477783,
        "y": 760.9758396148682,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "d1c9d543.58c9e8",
                "a1a240ee.bfd14"
            ]
        ]
    },
    {
        "id": "a1a240ee.bfd14",
        "type": "outcomeFalse",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4372.865222930908,
        "y": 794.725962638855,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "3a9b214c.98617e"
            ]
        ]
    },
    {
        "id": "d1c9d543.58c9e8",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4371.865467071533,
        "y": 729.9757170677185,
        "z": "b08b9d6b.a2e2",
        "wires": [
            []
        ]
    },
    {
        "id": "10e02b32.a43435",
        "type": "execute",
        "name": "OutputMessageBuilder",
        "xml": "<execute plugin='org.onap.appc.dg.common.OutputMessagePlugin' method='outputMessageBuilder' >\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n<parameter name=\"event-message\" value=\"Failure in flattening payload Json\" />",
        "comments": "",
        "outputs": 1,
        "x": 809.0313110351562,
        "y": 158.92013549804688,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "128f3df8.f25ab2"
            ]
        ]
    },
    {
        "id": "97aac7a0.bc6c68",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1657.0312805175781,
        "y": 237.92013549804688,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "c8bbd13.741d63"
            ]
        ]
    },
    {
        "id": "c8bbd13.741d63",
        "type": "execute",
        "name": "Report Error to DCAE",
        "xml": "<execute plugin='org.onap.appc.dg.common.DCAEReporterPlugin' method='report' >\n<parameter name=\"event-message\" value=\"`$event-message`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1835.6028137207031,
        "y": 237.6343994140625,
        "z": "b08b9d6b.a2e2",
        "wires": [
            []
        ]
    },
    {
        "id": "354d6e8c.f31102",
        "type": "execute",
        "name": "OutputMessageBuilder",
        "xml": "<execute plugin='org.onap.appc.dg.common.OutputMessagePlugin' method='outputMessageBuilder' >\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n<parameter name=\"event-message\" value=\"Failed to retrieve VNF details from A&amp;AI\" />",
        "comments": "",
        "outputs": 1,
        "x": 1478.0313110351562,
        "y": 236.92013549804688,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "97aac7a0.bc6c68"
            ]
        ]
    },
    {
        "id": "486603c6.65ca4c",
        "type": "execute",
        "name": "Report Error to DCAE",
        "xml": "<execute plugin='org.onap.appc.dg.common.DCAEReporterPlugin' method='report' >\n<parameter name=\"event-message\" value=\"`$event-message`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1218.6978759765625,
        "y": 157.92013549804688,
        "z": "b08b9d6b.a2e2",
        "wires": [
            []
        ]
    },
    {
        "id": "128f3df8.f25ab2",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1017.1263427734375,
        "y": 158.20587158203125,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "486603c6.65ca4c"
            ]
        ]
    },
    {
        "id": "c08a61cf.9a3ac",
        "type": "execute",
        "name": "OutputMessageBuilder",
        "xml": "<execute plugin='org.onap.appc.dg.common.OutputMessagePlugin' method='outputMessageBuilder' >\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n<parameter name=\"event-message\" value=\"Server/VNFC does not exists in A&amp;AI for the VNF\" />",
        "comments": "",
        "outputs": 1,
        "x": 1668.6982116699219,
        "y": 458.03124809265137,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "17bf3633.785cfa"
            ]
        ]
    },
    {
        "id": "17bf3633.785cfa",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2213.6981506347656,
        "y": 456.03125,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "1d7fce7b.489b02"
            ]
        ]
    },
    {
        "id": "1d7fce7b.489b02",
        "type": "execute",
        "name": "Report Error to DCAE",
        "xml": "<execute plugin='org.onap.appc.dg.common.DCAEReporterPlugin' method='report' >\n<parameter name=\"event-message\" value=\"`$event-message`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2387.2696838378906,
        "y": 455.7455139160156,
        "z": "b08b9d6b.a2e2",
        "wires": [
            []
        ]
    },
    {
        "id": "166abc17.dc1b54",
        "type": "execute",
        "name": "OutputMessageBuilder",
        "xml": "<execute plugin='org.onap.appc.dg.common.OutputMessagePlugin' method='outputMessageBuilder' >\n<parameter name=\"error-message\" value=\"`$error-message`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1859.6981468200684,
        "y": 581.1423428058624,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "17bf3633.785cfa"
            ]
        ]
    },
    {
        "id": "d80226bb.30a6e8",
        "type": "execute",
        "name": "OutputMessageBuilder",
        "xml": "<execute plugin='org.onap.appc.dg.common.OutputMessagePlugin' method='outputMessageBuilder' >\n<parameter name=\"error-message\" value=\"`$error-message`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2146.3641662597656,
        "y": 635.1423034667969,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "17bf3633.785cfa"
            ]
        ]
    },
    {
        "id": "fdaa30b4.b15b2",
        "type": "execute",
        "name": "OutputMessageBuilder",
        "xml": "<execute plugin='org.onap.appc.dg.common.OutputMessagePlugin' method='outputMessageBuilder' >\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n<parameter name=\"event-message\" value=\"`'Failed to retrieve VNFC DG for : ' + $vnfcFlow[$i].vnfcType`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3246.475875854492,
        "y": 722.253489613533,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "4a2db3fb.3e2d4c"
            ]
        ]
    },
    {
        "id": "4a2db3fb.3e2d4c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3483.595691680908,
        "y": 720.1781711578369,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "58fed926.729228"
            ]
        ]
    },
    {
        "id": "58fed926.729228",
        "type": "execute",
        "name": "Report Error to DCAE",
        "xml": "<execute plugin='org.onap.appc.dg.common.DCAEReporterPlugin' method='report' >\n<parameter name=\"event-message\" value=\"`$event-message`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3710.167224884033,
        "y": 719.4638156890869,
        "z": "b08b9d6b.a2e2",
        "wires": [
            []
        ]
    },
    {
        "id": "77a1f307.e77f2c",
        "type": "execute",
        "name": "OutputMessageBuilder",
        "xml": "<execute plugin='org.onap.appc.dg.common.OutputMessagePlugin' method='outputMessageBuilder' >\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n<parameter name=\"event-message\" value=\"`'VNFC DG not found for : ' + $vnfcName`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3211.586959838867,
        "y": 828.2534923553467,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "4a2db3fb.3e2d4c"
            ]
        ]
    },
    {
        "id": "3b7cf1ad.8e4dbe",
        "type": "execute",
        "name": "OutputMessageBuilder",
        "xml": "<execute plugin='org.onap.appc.dg.common.OutputMessagePlugin' method='outputMessageBuilder' >\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n<parameter name=\"event-message\" value=\"`$event-message`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 4495.059028625488,
        "y": 882.253490447998,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "b4444524.70d308"
            ]
        ]
    },
    {
        "id": "b4444524.70d308",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4685.282014846802,
        "y": 881.8925256729126,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "1fee8470.4268dc"
            ]
        ]
    },
    {
        "id": "1fee8470.4268dc",
        "type": "execute",
        "name": "Report Error to DCAE",
        "xml": "<execute plugin='org.onap.appc.dg.common.DCAEReporterPlugin' method='report' >\n<parameter name=\"event-message\" value=\"`$event-message`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4870.031358718872,
        "y": 881.5313415527344,
        "z": "b08b9d6b.a2e2",
        "wires": [
            []
        ]
    },
    {
        "id": "b71db166.932c5",
        "type": "set",
        "name": "Set last count",
        "xml": "<set>\n<parameter name='lastVNFCIndex' value='`$vnfcFlowCount - 1`' />",
        "comments": "",
        "x": 4140.968696594238,
        "y": 844.0312614440918,
        "z": "b08b9d6b.a2e2",
        "wires": []
    },
    {
        "id": "c31339d0.a87528",
        "type": "switchNode",
        "name": "Last vnfc?",
        "xml": "<switch test='`$i >= $lastVNFCIndex`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4150.3437423706055,
        "y": 881.5312614440918,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "65e5f04e.c729e"
            ]
        ]
    },
    {
        "id": "65e5f04e.c729e",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4309.40619468689,
        "y": 882.1562614440918,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "3b7cf1ad.8e4dbe"
            ]
        ]
    },
    {
        "id": "7a8e1dc8.f88904",
        "type": "switchNode",
        "name": "switch_healthcheck_res_flag",
        "xml": "<switch test='`$HealthcheckDGResolutionFlag`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3199.4062309265137,
        "y": 921.5312633514404,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "afb610ec.03a43",
                "b29c590a.09c078"
            ]
        ]
    },
    {
        "id": "afb610ec.03a43",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3404.4062309265137,
        "y": 921.5312623977661,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "d4ec5d9f.87aa2"
            ]
        ]
    },
    {
        "id": "b29c590a.09c078",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3409.406177520752,
        "y": 999.0312480926514,
        "z": "b08b9d6b.a2e2",
        "wires": [
            [
                "1a390ed5.8427d1"
            ]
        ]
    },
    {
        "id": "1a390ed5.8427d1",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n",
        "comments": "",
        "x": 3586.9062309265137,
        "y": 999.0312633514404,
        "z": "b08b9d6b.a2e2",
        "wires": []
    }
]