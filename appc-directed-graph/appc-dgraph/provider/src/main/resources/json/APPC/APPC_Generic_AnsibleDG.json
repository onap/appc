[
    {
        "id": "b5695572.e1f768",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 246.75,
        "y": 188.38194274902344,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "188edda2.26da82"
            ]
        ]
    },
    {
        "id": "188edda2.26da82",
        "type": "service-logic",
        "name": "APPC 4.0.0",
        "module": "APPC",
        "version": "4.0.0",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='APPC' version='4.0.0'>",
        "outputs": 1,
        "x": 324.2152862548828,
        "y": 138,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "a8cc7c7b.a911c"
            ]
        ]
    },
    {
        "id": "a8cc7c7b.a911c",
        "type": "method",
        "name": "method Generic_AnsibleDG",
        "xml": "<method rpc='Generic_AnsibleDG' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 575.7777862548828,
        "y": 138,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "42d7ac6f.bd3da4"
            ]
        ]
    },
    {
        "id": "e00096a6.7888c8",
        "type": "call",
        "name": "call: ansible-adapter-1.0",
        "xml": "<call module=\"APPC\" rpc=\"ansible-adapter-1.0\" mode=\"sync\">",
        "comments": "",
        "outputs": 1,
        "x": 415.1322479248047,
        "y": 789.0123748779297,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "dd503c7d.4cc9c",
                "515c4830.7e8bf",
                "8dc86977.b38688"
            ]
        ]
    },
    {
        "id": "784c8fbc.57a35",
        "type": "execute",
        "name": "execute params",
        "xml": " <execute plugin=\"org.onap.appc.encryptiontool.wrapper.EncryptionToolDGWrapper\" method =\"getProperty\">\n <parameter name=\"prefix\" value =\"property\"/>\n\n \n  ",
        "comments": "",
        "outputs": 1,
        "x": 635.5484161376953,
        "y": 411.40953063964844,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "36822bdd.3c9f4c",
                "14c5365c.bf1ae2"
            ]
        ]
    },
    {
        "id": "6282ba56.52f5dc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value=\"401\" />\n<parameter name='error-message' value=\"`$property.error-message`\" />\n",
        "comments": "",
        "x": 1270.5695495605469,
        "y": 705.9290771484375,
        "z": "e0baaa9e.9241d8",
        "wires": []
    },
    {
        "id": "4bbf0c97.541b6c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1101.840202331543,
        "y": 706.1082782745361,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "6282ba56.52f5dc"
            ]
        ]
    },
    {
        "id": "14c5365c.bf1ae2",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 903.7777557373047,
        "y": 703.7290954589844,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "4bbf0c97.541b6c"
            ]
        ]
    },
    {
        "id": "36822bdd.3c9f4c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 884.7904510498047,
        "y": 637.5832824707031,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "4bbf0c97.541b6c"
            ]
        ]
    },
    {
        "id": "712b83f9.f9d13c",
        "type": "execute",
        "name": "execute Convert payload to DG Context ",
        "xml": "<execute plugin=\"org.onap.sdnc.config.generator.convert.ConvertNode\" method=\"convertJson2DGContext\">\n<parameter name=\"jsonData\" value=\"`$tmp.merge.mergedData`\" />\n<parameter name=\"isEscaped\" value=\"Y\" />\n<parameter name=\"blockKeys\" value=\"EnvParameters,PlaybookName,Timeout,NodeList\" />\n<parameter name=\"responsePrefix\" value=\"tmp.convertnode\" />",
        "comments": "",
        "outputs": 1,
        "x": 686.3645477294922,
        "y": 227.9910430908203,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "59d56560.86430c",
                "b723b3b5.45f6e8"
            ]
        ]
    },
    {
        "id": "2addd9a1.c88c26",
        "type": "set",
        "name": "set Payload params ",
        "xml": "<set>\n<parameter name='PlaybookName' value='`$PlaybookName`' />\n<parameter name='NodeList' value='`$NodeList`'/>\n<parameter name='vnf_id' value='`$vnf-id`' />\n<parameter name='AgentUrl' value='`$url`'/>\n <parameter name='User' value='`$user`'/>\n  <parameter name='Password' value='`$password`'/>\n  <parameter name='EnvParameters' value='`$EnvParameters`'/>\n  <parameter name='Timeout' value='`$Timeout`'/>\n\n\n\n",
        "comments": "",
        "x": 537.6720733642578,
        "y": 687.3932952880859,
        "z": "e0baaa9e.9241d8",
        "wires": []
    },
    {
        "id": "b723b3b5.45f6e8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 969.6027374267578,
        "y": 259.64585876464844,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "8dccb387.ae749"
            ]
        ]
    },
    {
        "id": "59d56560.86430c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 965.4360504150391,
        "y": 317.92918395996094,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "63752d22.117204"
            ]
        ]
    },
    {
        "id": "8dccb387.ae749",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1092.2694854736328,
        "y": 263.81248474121094,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "a7ab8921.136fd"
            ]
        ]
    },
    {
        "id": "63752d22.117204",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1091.6026763916016,
        "y": 325.29576110839844,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "904c921.5af1af"
            ]
        ]
    },
    {
        "id": "904c921.5af1af",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status=\"failure\">\n\t<parameter name=\"error-code\" value=\"401\"/>\n\t<parameter name=\"error-message\" value=\"Unable to process convert payload to context.\"/>\n\t\n",
        "comments": "",
        "x": 1240.8026275634766,
        "y": 327.4791717529297,
        "z": "e0baaa9e.9241d8",
        "wires": []
    },
    {
        "id": "42d7ac6f.bd3da4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 371.869384765625,
        "y": 250.5791015625,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "712b83f9.f9d13c",
                "784c8fbc.57a35",
                "e00096a6.7888c8",
                "2addd9a1.c88c26",
                "ba353d30.9cba68",
                "d73c3e3f.a0265",
                "e3e0839e.5ac55",
                "2c49a4ef.2b4054",
                "bbcf695c.7db238"
            ]
        ]
    },
    {
        "id": "a7ab8921.136fd",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status=\"failure\">\n<parameter name=\"error-code\" value=\"401\"/>\n\t<parameter name=\"error-message\" value=\"`$tmp.convertnode.error-message`\"/>\n\t\n\t",
        "comments": "",
        "x": 1234.835952758789,
        "y": 261.2124481201172,
        "z": "e0baaa9e.9241d8",
        "wires": []
    },
    {
        "id": "f3ff11af.e308e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status=\"failure\">\n<parameter name='error-code' value=\"401\" />\n<parameter name='error-message' value='`$org.onap.appc.adapter.ansible.message`'/>",
        "comments": "",
        "x": 1124.7217254638672,
        "y": 857.5862731933594,
        "z": "e0baaa9e.9241d8",
        "wires": []
    },
    {
        "id": "dd503c7d.4cc9c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 838.5193634033203,
        "y": 839.1625366210938,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "f3ff11af.e308e"
            ]
        ]
    },
    {
        "id": "515c4830.7e8bf",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 814.7194366455078,
        "y": 921.7124633789062,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "5de54d.eecbb2b4"
            ]
        ]
    },
    {
        "id": "ba353d30.9cba68",
        "type": "set",
        "name": "set Payload params ",
        "xml": "<set>\n<parameter name='PlaybookName' value='`$block_PlaybookName`' />\n<parameter name='NodeList' value ='`$block_NodeList`'/>\n<parameter name='vnf_id' value='`$vnf-id`' />\n<parameter name='EnvParameters' value='`$block_EnvParameters`'/>\n<parameter name='Timeout' value='`$block_Timeout`'/>\n\n\n\n",
        "comments": "",
        "x": 686.1944732666016,
        "y": 284.6041717529297,
        "z": "e0baaa9e.9241d8",
        "wires": []
    },
    {
        "id": "5de54d.eecbb2b4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status=\"failure\">\n<parameter name='error-code' value=\"401\" />\n<parameter name='error-message' value='ansible-adapter-1.0.0 Dg not found'/>",
        "comments": "",
        "x": 1069.3611297607422,
        "y": 965.6280212402344,
        "z": "e0baaa9e.9241d8",
        "wires": []
    },
    {
        "id": "b172801d.e502f",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name='error-code' value='400' />\n<parameter name='error-message' value='`$org.onap.appc.adapter.ansible.message`'/>\n",
        "comments": "",
        "x": 853.6468963623047,
        "y": 1062.7708435058594,
        "z": "e0baaa9e.9241d8",
        "wires": []
    },
    {
        "id": "8dc86977.b38688",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 612.2183074951172,
        "y": 1003.5804138183594,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "b172801d.e502f"
            ]
        ]
    },
    {
        "id": "d73c3e3f.a0265",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"level\" value=\"info\"/>\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name='field2' value='`$user`'/>\n  <parameter name='field3' value='`$password`'/>\n    <parameter name='field4' value='`$url`'/>",
        "comments": "",
        "outputs": 1,
        "x": 552.9278106689453,
        "y": 590.7375946044922,
        "z": "e0baaa9e.9241d8",
        "wires": [
            []
        ]
    },
    {
        "id": "e3e0839e.5ac55",
        "type": "set",
        "name": "set properties",
        "xml": "<set>\n<parameter name=\"user\" value='`$property.user`'/>\n<parameter name=\"password\" value='`$property.password`'/>\n<parameter name=\"url\" value='`$property.url`'/>\n\n\n",
        "comments": "",
        "x": 607.7555389404297,
        "y": 490.44859313964844,
        "z": "e0baaa9e.9241d8",
        "wires": []
    },
    {
        "id": "2c49a4ef.2b4054",
        "type": "get-resource",
        "name": "get-resource: APPC.protocol",
        "xml": "<get-resource\n\tplugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' \n\tresource='SQL'\n\tkey=\"SELECT DISTINCT PROTOCOL FROM PROTOCOL_REFERENCE WHERE ACTION = $input.action AND VNF_TYPE = $vnf-type ;\"\n    force='true'\n\tpfx='APPC.protocol'>\n",
        "comments": "",
        "outputs": 1,
        "x": 680.8610992431641,
        "y": 334.40415954589844,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "5639d27.5b0172c",
                "67033f80.598758"
            ]
        ]
    },
    {
        "id": "b743b90d.bf9438",
        "type": "set",
        "name": "set protocol",
        "xml": "<set>\n<parameter name='APPC.protocol.PROTOCOL' value='`$APPC.protocol.PROTOCOL`' />\n\n\n\n\n\n",
        "comments": "",
        "x": 1115.861099243164,
        "y": 439.40415954589844,
        "z": "e0baaa9e.9241d8",
        "wires": []
    },
    {
        "id": "5639d27.5b0172c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 932.8610992431641,
        "y": 385.40415954589844,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "d70f7795.117818"
            ]
        ]
    },
    {
        "id": "d70f7795.117818",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1079.861099243164,
        "y": 394.40415954589844,
        "z": "e0baaa9e.9241d8",
        "wires": [
            []
        ]
    },
    {
        "id": "67033f80.598758",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 929.8610992431641,
        "y": 434.40415954589844,
        "z": "e0baaa9e.9241d8",
        "wires": [
            [
                "b743b90d.bf9438"
            ]
        ]
    },
    {
        "id": "bbcf695c.7db238",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"level\" value=\"info\"/>\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name='field2' value='`$user`'/>\n  <parameter name='field3' value='`$APPC.protocol.PROTOCOL`'/>\n    <parameter name='field4' value='`$url`'/>",
        "comments": "",
        "outputs": 1,
        "x": 717.8610992431641,
        "y": 371.40415954589844,
        "z": "e0baaa9e.9241d8",
        "wires": [
            []
        ]
    }
]
