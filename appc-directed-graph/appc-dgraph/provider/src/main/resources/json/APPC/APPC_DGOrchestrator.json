[
    {
        "id": "b24646ee.b28ae8",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 164.75,
        "y": 66.75,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "2b03bae1.35b0c6"
            ]
        ]
    },
    {
        "id": "2b03bae1.35b0c6",
        "type": "service-logic",
        "name": "APPC 4.0.0",
        "module": "APPC",
        "version": "4.0.0",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='APPC' version='4.0.0'>",
        "outputs": 1,
        "x": 322.09282302856445,
        "y": 66.73572540283203,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "ff5378d6.e233e"
            ]
        ]
    },
    {
        "id": "ff5378d6.e233e",
        "type": "method",
        "name": "method DGOrchestrator",
        "xml": "<method rpc='DGOrchestrator' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 526.6404647827148,
        "y": 56.23572540283203,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "642ab4f1.20f90c"
            ]
        ]
    },
    {
        "id": "642ab4f1.20f90c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 132.90634155273438,
        "y": 189.93809700012207,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "b0b1d9c5.c1f34",
                "20251bec.f0f3ac",
                "d8ffc32a.5a176",
                "b2170187.510fb8"
            ]
        ]
    },
    {
        "id": "b2170187.510fb8",
        "type": "call",
        "name": "call: setInputParams",
        "xml": "<call module=\"APPC\" rpc=\"setInputParams\" mode=\"sync\">",
        "comments": "",
        "outputs": 1,
        "x": 667.6642913818359,
        "y": 106.23572635650635,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "10a70eaa.f90671",
                "5a2a6552.aa959c",
                "8cada029.8e7bf8"
            ]
        ]
    },
    {
        "id": "d6b49825.e2c99",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2280.414306640625,
        "y": 412.6523742675781,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "7e71c4fc.4eeaac"
            ]
        ]
    },
    {
        "id": "68e7d29c.925c04",
        "type": "execute",
        "name": "execute get and executeFlowSequence",
        "xml": "<execute plugin=\"org.onap.appc.flow.controller.node.FlowControlNode\" method=\"processFlow\">\n<parameter name=\"messageType\" value=\"response\" />\n<parameter name=\"message\" value=\"`$tmp.message`\" />\n<parameter name=\"responsePrefix\" value=\"tmp.flowControl\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2121.5411376953125,
        "y": 467.9658203125,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "d6b49825.e2c99",
                "c6bce202.87c7f8"
            ]
        ]
    },
    {
        "id": "7e71c4fc.4eeaac",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2418.4619140625,
        "y": 414.1761779785156,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "d011a4db.98e728"
            ]
        ]
    },
    {
        "id": "c7c2bb2d.939168",
        "type": "set",
        "name": "set error-code 400 and message",
        "xml": "<set>\n<parameter name='error-code' value='400' />\n<parameter name='error-message' value=\"SUCCESS - request has been processed successfully\" />\n<parameter name='output-payload' value=\"`'state : ' + $output.payload.state` \" />\n",
        "comments": "",
        "x": 2401.93798828125,
        "y": 652.7356567382812,
        "z": "d44ce577.125ec8",
        "wires": []
    },
    {
        "id": "c6bce202.87c7f8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2399.295166015625,
        "y": 493.3190002441406,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "962e39f1.dcfdd"
            ]
        ]
    },
    {
        "id": "962e39f1.dcfdd",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2431.176025390625,
        "y": 543.9737548828125,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "c7c2bb2d.939168"
            ]
        ]
    },
    {
        "id": "d011a4db.98e728",
        "type": "set",
        "name": "set error-code 401 and message",
        "xml": "<set>\n<parameter name='error-code' value='401' />\n<parameter name='error-message' value=\"`$tmp.flowControl.status-message`\" />\n<parameter name='output-payload' value=\"\" />\n",
        "comments": "",
        "x": 2500.74755859375,
        "y": 341.1166076660156,
        "z": "d44ce577.125ec8",
        "wires": []
    },
    {
        "id": "20251bec.f0f3ac",
        "type": "execute",
        "name": "execute saveTxLog",
        "xml": "<execute plugin=\"org.onap.appc.data.services.node.ConfigResourceNode\" method=\"saveConfigTransactionLog\">\n<parameter name=\"messageType\" value=\"response\" />\n<parameter name=\"message\" value=\"`$tmp.message`\" />\n<parameter name=\"responsePrefix\" value=\"tmp.saveTxLog\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 332.2475776672363,
        "y": 907.7912883758545,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "e0751050.629e18"
            ]
        ]
    },
    {
        "id": "e0751050.629e18",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 533.6919479370117,
        "y": 908.707914352417,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "c79c66af.41dcf8"
            ]
        ]
    },
    {
        "id": "c79c66af.41dcf8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 709.1643218994141,
        "y": 910.2912473678589,
        "z": "d44ce577.125ec8",
        "wires": [
            []
        ]
    },
    {
        "id": "b0b1d9c5.c1f34",
        "type": "set",
        "name": "set tmp.message",
        "xml": "<set>\n<parameter name=\"tmp.message\" value=\"`$error-code + ':' + $error-message`\"/>\n",
        "comments": "",
        "x": 351.0253677368164,
        "y": 819.9857015609741,
        "z": "d44ce577.125ec8",
        "wires": []
    },
    {
        "id": "10a70eaa.f90671",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 883.164306640625,
        "y": 65.40238761901855,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "9d8747ec.4b74e8"
            ]
        ]
    },
    {
        "id": "5a2a6552.aa959c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 877.664306640625,
        "y": 104.40238952636719,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "9d8747ec.4b74e8"
            ]
        ]
    },
    {
        "id": "9d8747ec.4b74e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n\n",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1050.414306640625,
        "y": 85.90241241455078,
        "z": "d44ce577.125ec8",
        "wires": [
            []
        ]
    },
    {
        "id": "d8ffc32a.5a176",
        "type": "switchNode",
        "name": "switch error-code",
        "xml": "<switch test='`$error-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 355.8309631347656,
        "y": 761.6524333953857,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "104f332b.7fe32d",
                "c31a7601.21114"
            ]
        ]
    },
    {
        "id": "104f332b.7fe32d",
        "type": "success",
        "name": "outcome: 400",
        "xml": "<outcome value=\"400\">",
        "comments": "",
        "outputs": 1,
        "x": 620.4975891113281,
        "y": 713.9857139587402,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "1a67f81c.55efd"
            ]
        ]
    },
    {
        "id": "c31a7601.21114",
        "type": "success",
        "name": "outcome: Other",
        "xml": "<outcome value=\"Other\">",
        "comments": "",
        "outputs": 1,
        "x": 620.414249420166,
        "y": 813.985746383667,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "26a9da95.37865e"
            ]
        ]
    },
    {
        "id": "1a67f81c.55efd",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 831.7476348876953,
        "y": 716.6524209976196,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "3bf3629c.aa6146"
            ]
        ]
    },
    {
        "id": "26a9da95.37865e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 813.7474899291992,
        "y": 815.235746383667,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "63a4df2c.36b148"
            ]
        ]
    },
    {
        "id": "3bf3629c.aa6146",
        "type": "set",
        "name": "set Status for dispatcher",
        "xml": "<set>\n<parameter name='SvcLogic.status' value='success' />\n<parameter name='output.status.code' value='`$error-code`' />\n<parameter name='output.status.message' value='`$error-message`' />",
        "comments": "",
        "x": 1081.4143371582031,
        "y": 714.8190479278564,
        "z": "d44ce577.125ec8",
        "wires": []
    },
    {
        "id": "63a4df2c.36b148",
        "type": "set",
        "name": "set Status for dispatcher",
        "xml": "<set>\n<parameter name='SvcLogic.status' value='failure' />\n<parameter name='output.status.code' value='`$error-code`' />\n<parameter name='output.status.message' value='`$error-message`' />\n",
        "comments": "",
        "x": 1050.9142837524414,
        "y": 814.1523923873901,
        "z": "d44ce577.125ec8",
        "wires": []
    },
    {
        "id": "5a79a689.536538",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 877.914306640625,
        "y": 205.56903076171875,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "f594ffbb.f912b8"
            ]
        ]
    },
    {
        "id": "8cada029.8e7bf8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 873.497615814209,
        "y": 144.23571968078613,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "5a79a689.536538"
            ]
        ]
    },
    {
        "id": "f594ffbb.f912b8",
        "type": "execute",
        "name": "execute getCapability",
        "xml": "<execute plugin=\"org.onap.appc.data.services.node.ConfigResourceNode\" method=\"getCapability\">\n<parameter name=\"caplevel\" value=\"`$action-level`\" />\n<parameter name=\"checkCapability\" value=\"`$request-action`\" />\n<parameter name=\"vServerId\" value=\"`$vserver-id`\"/>\n<parameter name=\"vnf-type\" value=\"`$vnf-type`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 875.6644897460938,
        "y": 310.65234375,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "5f2bdf29.228bb",
                "4ec63560.2078bc"
            ]
        ]
    },
    {
        "id": "55493d49.7567ac",
        "type": "switchNode",
        "name": "switch capability-result",
        "xml": "<switch test=\"`$capabilities`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1179.454574584961,
        "y": 451.3952317237854,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "c0aa0b56.52de8",
                "c6d97329.a088d8",
                "ee014032.84a888"
            ]
        ]
    },
    {
        "id": "c0aa0b56.52de8",
        "type": "success",
        "name": "outcome: Not-Supported",
        "xml": "<outcome value=\"Not-Supported\">",
        "comments": "",
        "outputs": 1,
        "x": 1418.6644439697266,
        "y": 577.9856586456299,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "455b8a0b.eedddc"
            ]
        ]
    },
    {
        "id": "c6d97329.a088d8",
        "type": "success",
        "name": "outcome: Supported",
        "xml": "<outcome value=\"Supported\">",
        "comments": "",
        "outputs": 1,
        "x": 1419.5810546875,
        "y": 508.31903076171875,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "c92406bc.5f6e3"
            ]
        ]
    },
    {
        "id": "5f2bdf29.228bb",
        "type": "failure",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1150.7594909667969,
        "y": 311.8428611755371,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "d5744539.8762c"
            ]
        ]
    },
    {
        "id": "4ec63560.2078bc",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1135.2119979858398,
        "y": 368.65238761901855,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "75ad149f.944b04"
            ]
        ]
    },
    {
        "id": "455b8a0b.eedddc",
        "type": "set",
        "name": "set error-code 450 and message",
        "xml": "<set>\n<parameter name='error-code' value='450' />\n<parameter name='error-message' value=\"Request not supported\" />\n<parameter name='output-payload' value=\"\" />",
        "comments": "",
        "x": 1708.997543334961,
        "y": 579.6523866653442,
        "z": "d44ce577.125ec8",
        "wires": []
    },
    {
        "id": "c92406bc.5f6e3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1633.99755859375,
        "y": 507.31903076171875,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "cd8ec825.44db4"
            ]
        ]
    },
    {
        "id": "ee014032.84a888",
        "type": "other",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1356.3310661315918,
        "y": 439.98571491241455,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "c92406bc.5f6e3"
            ]
        ]
    },
    {
        "id": "85dace0d.a239",
        "type": "set",
        "name": "set error code 401",
        "xml": "<set>\n<parameter name='error-code' value='401' />\n<parameter name='error-message' value=\"Cannot Determine Capabilities\" />\n<parameter name='output-payload' value=\"\" />\n",
        "comments": "",
        "x": 1500.6641845703125,
        "y": 300.2357177734375,
        "z": "d44ce577.125ec8",
        "wires": []
    },
    {
        "id": "75ad149f.944b04",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n\n",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 980.0492706298828,
        "y": 451.8094539642334,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "55493d49.7567ac"
            ]
        ]
    },
    {
        "id": "d9736db6.f70958",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"level\" value=\"info\"/>\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"` 'Capabilities results will be - '+$capabilities`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1465.072998046875,
        "y": 348.452392578125,
        "z": "d44ce577.125ec8",
        "wires": [
            []
        ]
    },
    {
        "id": "d5744539.8762c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n\n",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1303.99755859375,
        "y": 310.90234375,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "85dace0d.a239",
                "d9736db6.f70958"
            ]
        ]
    },
    {
        "id": "1a24fd28.172f5b",
        "type": "set",
        "name": "set aai-vnf-type, vnf-type",
        "xml": "<set>\n<parameter name='aai-vnf-type' value='`$vnf-type`' />\n<parameter name='vnf-type' value='' />\n",
        "comments": "",
        "x": 2181.75,
        "y": 305.75,
        "z": "d44ce577.125ec8",
        "wires": []
    },
    {
        "id": "cd8ec825.44db4",
        "type": "switchNode",
        "name": "switch action-level",
        "xml": "<switch test='`$action-level`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1840.75,
        "y": 505.75,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "eb1f9644.21f76",
                "145954d1.e86f93"
            ]
        ]
    },
    {
        "id": "eb1f9644.21f76",
        "type": "success",
        "name": "outcome: Other",
        "xml": "<outcome value='Other'>",
        "comments": "",
        "outputs": 1,
        "x": 2043.1666259765625,
        "y": 571.1666259765625,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "68e7d29c.925c04"
            ]
        ]
    },
    {
        "id": "145954d1.e86f93",
        "type": "success",
        "name": "outcome: vm",
        "xml": "<outcome value='vm'>",
        "comments": "",
        "outputs": 1,
        "x": 1781.1666259765625,
        "y": 364.83331298828125,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "4c84b99c.0edd5"
            ]
        ]
    },
    {
        "id": "4c84b99c.0edd5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1983,
        "y": 365.75,
        "z": "d44ce577.125ec8",
        "wires": [
            [
                "1a24fd28.172f5b",
                "68e7d29c.925c04"
            ]
        ]
    },
    {
        "id": "9fa68267.0afa28",
        "type": "comment",
        "name": "vnf-type is set to nul here to enable VM level commands to select correct RPC ",
        "info": "",
        "comments": "",
        "x": 1970.75,
        "y": 250.75,
        "z": "d44ce577.125ec8",
        "wires": []
    }
]